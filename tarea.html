<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Pobreza en México 2008-2018</title>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        h1 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            color: #666;
            font-size: 1.1em;
        }

        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));
            gap: 25px;
            margin-bottom: 25px;
        }

        .chart-container {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .chart-title {
            font-size: 1.3em;
            color: #667eea;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .chart-description {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            text-align: center;
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }

        .stat-label {
            color: #666;
            font-size: 1.1em;
        }

        .footer {
            background: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            color: #666;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        /* Estilos para hacer las anotaciones siempre visibles */
        .google-visualization-tooltip {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
        }

        /* Asegurar que las leyendas y valores sean claros */
        text {
            font-size: 13px !important;
            font-weight: 500;
        }

        @media print {
            body {
                background: white;
            }
            .container {
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Pobreza en México: Análisis 2008-2018</h1>
            <p class="subtitle">10 años de medición multidimensional de la pobreza - CONEVAL</p>
        </header>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number">-2.5pp</div>
                <div class="stat-label">Reducción de Pobreza</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">52.4M</div>
                <div class="stat-label">Personas en Pobreza 2018</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">-3.6pp</div>
                <div class="stat-label">Reducción Pobreza Extrema</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">-22.2pp</div>
                <div class="stat-label">Mejora en Acceso a Salud</div>
            </div>
        </div>

        <div class="dashboard">
            <div class="chart-container full-width">
                <h2 class="chart-title">1. Evolución de la Pobreza Nacional 2008-2018</h2>
                <p class="chart-description">Tendencia del porcentaje de población en situación de pobreza durante la década</p>
                <div id="chart1" style="width: 100%; height: 400px;"></div>
            </div>

            <div class="chart-container">
                <h2 class="chart-title">2. Reducción de Carencias Sociales</h2>
                <p class="chart-description">Comparación de mejoras en diferentes dimensiones sociales</p>
                <div id="chart2" style="width: 100%; height: 400px;"></div>
            </div>

            <div class="chart-container">
                <h2 class="chart-title">3. Estados con Mayor Pobreza 2018</h2>
                <p class="chart-description">Ranking de entidades federativas con mayores niveles de pobreza</p>
                <div id="chart3" style="width: 100%; height: 400px;"></div>
            </div>

            <div class="chart-container full-width">
                <h2 class="chart-title">4. Brechas de Desigualdad: 2008 vs 2018</h2>
                <p class="chart-description">Comparación de pobreza entre diferentes grupos poblacionales</p>
                <div id="chart4" style="width: 100%; height: 400px;"></div>
            </div>

            <div class="chart-container full-width">
                <h2 class="chart-title">5. Pobreza Extrema vs Moderada</h2>
                <p class="chart-description">Evolución de los niveles de pobreza en millones de personas</p>
                <div id="chart5" style="width: 100%; height: 400px;"></div>
            </div>
        </div>

        <div class="footer">
            <p><strong>Fuente:</strong> CONEVAL - Consejo Nacional de Evaluación de la Política de Desarrollo Social</p>
            <p>Estimaciones con base en el MCS-ENIGH 2008, 2010, 2012, 2014 y el MEC del MCS-ENIGH 2016 y 2018</p>
        </div>
    </div>

    <script type="text/javascript">
        google.charts.load('current', {'packages':['corechart', 'bar']});
        google.charts.setOnLoadCallback(drawCharts);

        function drawCharts() {
            drawChart1();
            drawChart2();
            drawChart3();
            drawChart4();
            drawChart5();
        }

        // Gráfico 1: Evolución de la Pobreza Nacional
        function drawChart1() {
            var data = google.visualization.arrayToDataTable([
                ['Año', 'Porcentaje', 'Millones'],
                ['2008', 44.4, 49.5],
                ['2010', 46.1, 52.8],
                ['2012', 45.5, 53.3],
                ['2014', 46.2, 55.3],
                ['2016', 43.6, 53.4],
                ['2018', 41.9, 52.4]
            ]);

            var options = {
                title: 'Tendencia de Pobreza en México',
                hAxis: {
                    title: 'Año',
                    textStyle: {fontSize: 14, bold: true}
                },
                vAxis: {
                    title: 'Porcentaje (%)',
                    textStyle: {fontSize: 14, bold: true}
                },
                series: {
                    0: {
                        targetAxisIndex: 0, 
                        color: '#667eea',
                        annotations: {
                            textStyle: {fontSize: 12, bold: true, color: '#667eea'}
                        }
                    },
                    1: {
                        targetAxisIndex: 1, 
                        color: '#f093fb',
                        annotations: {
                            textStyle: {fontSize: 12, bold: true, color: '#f093fb'}
                        }
                    }
                },
                vAxes: {
                    0: {title: 'Porcentaje (%)', textStyle: {fontSize: 14}},
                    1: {title: 'Millones de Personas', textStyle: {fontSize: 14}}
                },
                curveType: 'function',
                pointSize: 8,
                dataOpacity: 1.0,
                legend: {
                    position: 'bottom',
                    textStyle: {fontSize: 14, bold: true}
                },
                annotations: {
                    alwaysOutside: true,
                    textStyle: {
                        fontSize: 13,
                        bold: true,
                        color: '#000'
                    }
                },
                chartArea: {width: '75%', height: '70%'}
            };

            var chart = new google.visualization.LineChart(document.getElementById('chart1'));
            chart.draw(data, options);
        }

        // Gráfico 2: Reducción de Carencias Sociales
        function drawChart2() {
            var data = google.visualization.arrayToDataTable([
                ['Carencia', '2008', '2018', {role: 'annotation'}],
                ['Acceso a salud', 38.4, 16.2, '-22.2pp'],
                ['Calidad vivienda', 17.7, 11.1, '-6.6pp'],
                ['Seguridad social', 65.0, 57.3, '-7.7pp'],
                ['Rezago educativo', 21.9, 16.9, '-5.0pp'],
                ['Servicios básicos', 22.9, 19.8, '-3.1pp'],
                ['Alimentación', 21.7, 20.4, '-1.3pp']
            ]);

            var options = {
                title: 'Comparación de Carencias Sociales (2008 vs 2018)',
                chartArea: {width: '65%', height: '70%'},
                colors: ['#ff6b6b', '#4ecdc4'],
                hAxis: {
                    title: 'Porcentaje de la Población (%)',
                    minValue: 0,
                    textStyle: {fontSize: 14, bold: true}
                },
                vAxis: {
                    title: 'Carencia Social',
                    textStyle: {fontSize: 13, bold: true}
                },
                legend: {
                    position: 'bottom',
                    textStyle: {fontSize: 14, bold: true}
                },
                annotations: {
                    alwaysOutside: true,
                    textStyle: {
                        fontSize: 12,
                        bold: true
                    }
                },
                bar: {groupWidth: '75%'}
            };

            var chart = new google.visualization.BarChart(document.getElementById('chart2'));
            chart.draw(data, options);
        }

        // Gráfico 3: Estados con Mayor Pobreza
        function drawChart3() {
            var data = google.visualization.arrayToDataTable([
                ['Estado', 'Pobreza 2018', {role: 'style'}, {role: 'annotation'}],
                ['Chiapas', 76.4, '#c0392b', '76.4%'],
                ['Guerrero', 66.5, '#d35400', '66.5%'],
                ['Oaxaca', 66.4, '#e67e22', '66.4%'],
                ['Veracruz', 61.8, '#f39c12', '61.8%'],
                ['Puebla', 58.9, '#f1c40f', '58.9%'],
                ['Tabasco', 53.6, '#e74c3c', '53.6%'],
                ['Morelos', 50.8, '#ec7063', '50.8%']
            ]);

            var options = {
                title: 'Estados con Mayor Porcentaje de Pobreza (2018)',
                chartArea: {width: '55%', height: '70%'},
                hAxis: {
                    title: 'Porcentaje (%)',
                    minValue: 0,
                    maxValue: 80,
                    textStyle: {fontSize: 14, bold: true}
                },
                vAxis: {
                    title: 'Estado',
                    textStyle: {fontSize: 13, bold: true}
                },
                legend: {position: 'none'},
                annotations: {
                    alwaysOutside: true,
                    textStyle: {
                        fontSize: 13,
                        bold: true,
                        color: '#000'
                    }
                },
                bar: {groupWidth: '80%'}
            };

            var chart = new google.visualization.BarChart(document.getElementById('chart3'));
            chart.draw(data, options);
        }

        // Gráfico 4: Brechas de Desigualdad
        function drawChart4() {
            var data = google.visualization.arrayToDataTable([
                ['Grupo', '2008', {role: 'annotation'}, '2018', {role: 'annotation'}],
                ['Rural', 62.5, '62.5%', 55.3, '55.3%'],
                ['Urbana', 38.9, '38.9%', 37.6, '37.6%'],
                ['Indígena', 76.0, '76.0%', 74.9, '74.9%'],
                ['No Indígena', 41.4, '41.4%', 39.4, '39.4%'],
                ['Mujeres', 44.6, '44.6%', 42.4, '42.4%'],
                ['Hombres', 44.0, '44.0%', 41.4, '41.4%']
            ]);

            var options = {
                title: 'Desigualdades en la Pobreza por Grupo Poblacional',
                chartArea: {width: '65%', height: '70%'},
                colors: ['#9b59b6', '#3498db'],
                hAxis: {
                    title: 'Porcentaje (%)',
                    minValue: 0,
                    textStyle: {fontSize: 14, bold: true}
                },
                vAxis: {
                    title: 'Grupo Poblacional',
                    textStyle: {fontSize: 13, bold: true}
                },
                legend: {
                    position: 'bottom',
                    textStyle: {fontSize: 14, bold: true}
                },
                annotations: {
                    alwaysOutside: true,
                    textStyle: {
                        fontSize: 12,
                        bold: true
                    }
                },
                bar: {groupWidth: '75%'}
            };

            var chart = new google.visualization.BarChart(document.getElementById('chart4'));
            chart.draw(data, options);
        }

        // Gráfico 5: Pobreza Extrema vs Moderada
        function drawChart5() {
            var data = google.visualization.arrayToDataTable([
                ['Año', 'Extrema', {role: 'annotation'}, 'Moderada', {role: 'annotation'}],
                ['2008', 12.3, '12.3M', 37.2, '37.2M'],
                ['2010', 13.0, '13.0M', 39.8, '39.8M'],
                ['2012', 11.5, '11.5M', 41.8, '41.8M'],
                ['2014', 11.4, '11.4M', 43.9, '43.9M'],
                ['2016', 9.4, '9.4M', 44.0, '44.0M'],
                ['2018', 9.3, '9.3M', 43.1, '43.1M']
            ]);

            var options = {
                title: 'Evolución de la Pobreza por Nivel (Millones de Personas)',
                isStacked: true,
                colors: ['#e74c3c', '#f39c12'],
                hAxis: {
                    title: 'Año',
                    textStyle: {fontSize: 14, bold: true}
                },
                vAxis: {
                    title: 'Millones de Personas',
                    minValue: 0,
                    textStyle: {fontSize: 14, bold: true}
                },
                legend: {
                    position: 'bottom',
                    textStyle: {fontSize: 14, bold: true}
                },
                annotations: {
                    alwaysOutside: false,
                    textStyle: {
                        fontSize: 12,
                        bold: true,
                        color: '#fff'
                    }
                },
                chartArea: {width: '75%', height: '70%'},
                bar: {groupWidth: '70%'}
            };

            var chart = new google.visualization.ColumnChart(document.getElementById('chart5'));
            chart.draw(data, options);
        }
    </script>
</body>
</html>